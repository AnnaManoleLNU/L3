(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();class h{#e;#t=0;#i=0;constructor(){this.#e=[0,0,0]}#s(){this.#e=[Math.floor(Math.random()*(this.#i-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#i-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#i-this.#t+1))+this.#t]}generateRandomColor(){return this.#t=0,this.#i=255,this.#s(),this.#e=this.#h(this.#e),this.#e}generateLightColor(){return this.#t=155,this.#i=255,this.#s(),this.#n(),this.#e=this.#h(this.#e),this.#e}#l(){return!(this.#e[0]<200&&this.#e[1]<200&&this.#e[2]<200)}#n(){if(!this.#l())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]+10}generateDarkColor(){return this.#t=0,this.#i=100,this.#s(),this.#o(),this.#e=this.#h(this.#e),this.#e}#r(){return!(this.#e[0]>50&&this.#e[1]>50&&this.#e[2]>50)}#o(){if(!this.#r())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]-10}#h(e){return"rgb("+e.join(", ")+")"}}class a{#e;constructor(){this.#e=[]}generateMonochromaticColorScheme(e){this.#r(e);for(let t=0;t<2;t++){let r;t===0?r=this.#i(e):t===1&&(r=this.#s(e)),this.#e.push(r)}return this.#e}#t(e){e=e.split("(")[1].split(")")[0].split(",");const t=[];for(let r=0;r<e.length;r++){let s=parseInt(e[r]);t.push(s)}return t}#i(e){const t=this.#t(e),r=Math.random()*.5+.5,s=[];for(let n=0;n<t.length;n++){let o=t[n]+(255-t[n])*r;o=Math.min(255,Math.max(0,o)),s.push(Math.round(o))}return`rgb(${s[0]}, ${s[1]}, ${s[2]})`}#s(e){const t=this.#t(e),r=Math.random()*.5-.5,s=[];for(let n=0;n<t.length;n++){let o=t[n]-(0-t[n])*r;o=Math.min(255,Math.max(0,o)),s.push(Math.round(o))}return"rgb("+s.join(", ")+")"}generateAnalogousColorScheme(e){this.#r(e);for(let t=0;t<2;t++){let r;t===0?r=this.#l(e):r=this.#n(e),this.#e.push(r)}return this.#e}#l(e){const t=this.#t(e);let r=t[0],s=t[1],i=t[2];for(let n=0;n<t.length;n++)r>s&&r>i&&(s=s+20),s>r&&s>i&&(i=i+20),i>r&&i>s&&(r=r+20);return e="rgb("+r+", "+s+", "+i+")",e}#n(e){const t=this.#t(e);let r=t[0],s=t[1],i=t[2];for(let n=0;n<t.length;n++)r>s&&r>i&&(i=i+20),s>r&&s>i&&(r=r+20),i>r&&i>s&&(s=s+20);return e="rgb("+r+", "+s+", "+i+")",e}#r(e){if(typeof e!="string"||e.includes("rgb")===!1)throw new Error("The parameter must be a string in rgb format.")}}class c{#e;#t;#i;#s;#l;#n=[];#r=[];#o=[];constructor(){this.#e=document.getElementById("start-screen"),this.#t=document.getElementById("difficulty-screen"),this.#i=document.getElementById("game-screen"),this.#s=document.getElementById("game-board"),this.#l=document.getElementById("end-screen")}initiateGame(){this.#h(),this.#c(),this.#L(),this.#I()}#h(){const e=document.getElementById("username-input");document.getElementById("username-form").addEventListener("submit",r=>{r.preventDefault(),this.#e.classList.add("hidden"),this.#t.classList.remove("hidden"),localStorage.setItem("username",e.value),e.value=""})}#c(){this.#t.addEventListener("click",e=>{const t=e.target.id;t==="easy"&&this.#a(3),t==="medium"&&this.#a(4),t==="hard"&&this.#a(5)})}#a(e){this.#t.classList.add("hidden"),this.#i.classList.remove("hidden"),this.#d(e),this.#m()}#d(e){const t=[];for(let s=0;s<e/3;s++){const i=this.#u();for(let n=0;n<i.length;n++)t.push(i[n])}for(let s=0;s<e;s++){const i=document.createElement("button");i.classList.add("tile"),i.classList.add("disabled"),i.style.backgroundColor=t[s],this.#n.push(i)}for(let s=0;s<this.#n.length;s++)this.#s.appendChild(this.#n[s])}#u(){const e=[],r=new h().generateLightColor();e.push(r);const i=new a().generateAnalogousColorScheme(r);for(let n=0;n<i.length;n++)e.push(i[n]);return e}#m(){setTimeout(()=>{for(this.#r=this.#g();this.#s.firstChild;)this.#s.removeChild(this.#s.firstChild);this.#r.forEach(t=>{const r=document.createElement("button");r.classList.add("tile"),r.style.backgroundColor=t.style.backgroundColor,this.#s.appendChild(r)});const e=document.querySelector("#game-screen h2");e.textContent="Tiles shuffled!",document.getElementById("user-guesses").classList.remove("hidden"),this.#f(),this.#C()},4e3)}#g(){this.#r=Array.from(this.#n);for(let e=this.#r.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[this.#r[e],this.#r[t]]=[this.#r[t],this.#r[e]]}return this.#r}#f(){document.querySelectorAll("#game-board .tile").forEach(e=>{e.addEventListener("click",()=>{const t=document.createElement("button");t.classList.add("tile"),t.style.backgroundColor=e.style.backgroundColor,document.getElementById("guesses").appendChild(t),this.#o.push(t)})})}#C(){document.getElementById("guesses").addEventListener("click",e=>{const t=e.target;t.classList.contains("tile")&&this.#y(t)})}#y(e){const t=this.#o.indexOf(e);this.#o.splice(t,1),e.remove()}#p(){if(!this.#b())return!1;for(let e=0;e<this.#n.length;e++)if(!this.#E(e))return!1;return!0}#b(){return this.#n.length===this.#o.length}#E(e){return this.#n[e].style.backgroundColor===this.#o[e].style.backgroundColor}#L(){document.getElementById("game-submit").addEventListener("click",()=>{this.#i.classList.add("hidden"),this.#l.classList.remove("hidden"),this.#S()})}#S(){const e=document.querySelector("#end-screen h2"),t=localStorage.getItem("username");this.#p()?e.textContent=`Congratulations ${t}! You won!`:e.textContent=`Sorry ${t}, you lost!`}#I(){document.getElementById("play-again").addEventListener("click",()=>{this.#k(),this.#v(),this.#M(),this.#l.classList.add("hidden"),this.#e.classList.remove("hidden")})}#k(){for(;this.#s.firstChild;)this.#s.removeChild(this.#s.firstChild);this.#n=[]}#v(){const e=document.getElementById("guesses");for(;e.firstChild;)e.removeChild(e.firstChild);this.#o=[]}#M(){const e=document.querySelector("#game-screen h2");e.textContent="Shuffling tiles...",document.getElementById("user-guesses").classList.add("hidden")}}const d=new c;d.initiateGame();
