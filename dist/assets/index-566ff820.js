(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();class l{#e;#t=0;#i=0;constructor(){this.#e=[0,0,0]}#r(){this.#e=[Math.floor(Math.random()*(this.#i-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#i-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#i-this.#t+1))+this.#t]}generateRandomColor(){return this.#t=0,this.#i=255,this.#r(),this.#e=this.#a(this.#e),this.#e}generateLightColor(){return this.#t=155,this.#i=255,this.#r(),this.#s(),this.#e=this.#a(this.#e),this.#e}#o(){return!(this.#e[0]<200&&this.#e[1]<200&&this.#e[2]<200)}#s(){if(!this.#o())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]+10}generateDarkColor(){return this.#t=0,this.#i=100,this.#r(),this.#d(),this.#e=this.#a(this.#e),this.#e}#h(){return!(this.#e[0]>50&&this.#e[1]>50&&this.#e[2]>50)}#d(){if(!this.#h())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]-10}#a(e){return"rgb("+e.join(", ")+")"}}class a{#e;constructor(){this.#e=[]}generateMonochromaticColorScheme(e){this.#h(e);for(let s=0;s<2;s++){let t;s===0?t=this.#i(e):s===1&&(t=this.#r(e)),this.#e.push(t)}return this.#e}#t(e){e=e.split("(")[1].split(")")[0].split(",");const s=[];for(let t=0;t<e.length;t++){let i=parseInt(e[t]);s.push(i)}return s}#i(e){const s=this.#t(e),t=Math.random()*.5+.5,i=[];for(let o=0;o<s.length;o++){let n=s[o]+(255-s[o])*t;n=Math.min(255,Math.max(0,n)),i.push(Math.round(n))}return`rgb(${i[0]}, ${i[1]}, ${i[2]})`}#r(e){const s=this.#t(e),t=Math.random()*.5-.5,i=[];for(let o=0;o<s.length;o++){let n=s[o]-(0-s[o])*t;n=Math.min(255,Math.max(0,n)),i.push(Math.round(n))}return"rgb("+i.join(", ")+")"}generateAnalogousColorScheme(e){this.#h(e);for(let s=0;s<2;s++){let t;s===0?t=this.#o(e):t=this.#s(e),this.#e.push(t)}return this.#e}#o(e){const s=this.#t(e);let t=s[0],i=s[1],r=s[2];for(let o=0;o<s.length;o++)t>i&&t>r&&(i=i+20),i>t&&i>r&&(r=r+20),r>t&&r>i&&(t=t+20);return e="rgb("+t+", "+i+", "+r+")",e}#s(e){const s=this.#t(e);let t=s[0],i=s[1],r=s[2];for(let o=0;o<s.length;o++)t>i&&t>r&&(r=r+20),i>t&&i>r&&(t=t+20),r>t&&r>i&&(i=i+20);return e="rgb("+t+", "+i+", "+r+")",e}#h(e){if(typeof e!="string"||e.includes("rgb")===!1)throw new Error("The parameter must be a string in rgb format.")}}class d{#e;#t;#i;#r;#o;#s;#h;#d;#a;#l=[];#n=[];#g=[];#c;constructor(){this.#e=document.getElementById("start-screen"),this.#t=document.getElementById("username-form"),this.#i=document.getElementById("username-input"),this.#r=document.getElementById("difficulty-screen"),this.#o=document.getElementById("game-screen"),this.#s=document.getElementById("game-board"),this.#h=document.getElementById("game-submit"),this.#d=document.getElementById("end-screen"),this.#a=document.getElementById("play-again")}#f(){this.#t.addEventListener("submit",e=>{e.preventDefault(),this.#e.classList.add("hidden"),this.#r.classList.remove("hidden"),localStorage.setItem("username",this.#i.value),this.#i.value=""})}#C(){this.#r.addEventListener("click",e=>{const s=e.target.id;s==="easy"&&(this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#u(3),this.#m()),s==="medium"&&(this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#u(6),this.#m()),s==="hard"&&(this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#u(9),this.#m())})}#u(e){const s=[];for(let t=0;t<e/3;t++){const i=this.#v();for(let r=0;r<i.length;r++)s.push(i[r])}for(let t=0;t<e;t++)this.#c=document.createElement("button"),this.#c.classList.add("tile"),this.#c.classList.add("disabled"),this.#c.style.backgroundColor=s[t],this.#l.push(this.#c);for(let t=0;t<this.#l.length;t++)this.#s.appendChild(this.#l[t])}#y(){for(;this.#s.firstChild;)this.#s.removeChild(this.#s.firstChild);this.#l=[]}#p(){this.#n=Array.from(this.#l);for(let e=this.#n.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[this.#n[e],this.#n[s]]=[this.#n[s],this.#n[e]]}return this.#n}#m(){setTimeout(()=>{for(this.#n=this.#p();this.#s.firstChild;)this.#s.removeChild(this.#s.firstChild);this.#n.forEach(s=>{const t=document.createElement("button");t.classList.add("tile"),t.style.backgroundColor=s.style.backgroundColor,this.#s.appendChild(t)});const e=document.querySelector("#game-screen h2");e.textContent="Tiles shuffled!",document.getElementById("user-guesses").classList.remove("hidden"),this.#L()},4e3)}#b(){const e=document.querySelector("#game-screen h2");e.textContent="Shuffling tiles...",document.getElementById("user-guesses").classList.add("hidden")}#L(){document.querySelectorAll("#game-board .tile").forEach(e=>{e.addEventListener("click",()=>{const s=document.createElement("button");s.classList.add("tile"),s.style.backgroundColor=e.style.backgroundColor,document.getElementById("guesses").appendChild(s),this.#g.push(s)})})}#E(){for(let e=0;e<this.#l.length;e++)return this.#l[e].style.backgroundColor===this.#g[e].style.backgroundColor}#S(){const e=document.querySelector("#end-screen h2");this.#E()?e.textContent="You won!":e.textContent="You lost!"}#I(){const e=document.getElementById("guesses");for(;e.firstChild;)e.removeChild(e.firstChild)}#v(){const e=[],t=new l().generateLightColor();e.push(t);const r=new a().generateAnalogousColorScheme(t);for(let o=0;o<r.length;o++)e.push(r[o]);return e}#k(){this.#h.addEventListener("click",()=>{this.#o.classList.add("hidden"),this.#d.classList.remove("hidden"),this.#S()})}#M(){this.#a.addEventListener("click",()=>{this.#y(),this.#I(),this.#b(),this.#d.classList.add("hidden"),this.#e.classList.remove("hidden")})}playGame(){this.#f(),this.#C(),this.#k(),this.#M()}}const c=new d;c.playGame();
