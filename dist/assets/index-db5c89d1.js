(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();class l{#e;#t=0;#i=0;constructor(){this.#e=[0,0,0]}#r(){this.#e=[Math.floor(Math.random()*(this.#i-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#i-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#i-this.#t+1))+this.#t]}generateRandomColor(){return this.#t=0,this.#i=255,this.#r(),this.#e=this.#a(this.#e),this.#e}generateLightColor(){return this.#t=155,this.#i=255,this.#r(),this.#s(),this.#e=this.#a(this.#e),this.#e}#o(){return!(this.#e[0]<200&&this.#e[1]<200&&this.#e[2]<200)}#s(){if(!this.#o())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]+10}generateDarkColor(){return this.#t=0,this.#i=100,this.#r(),this.#d(),this.#e=this.#a(this.#e),this.#e}#h(){return!(this.#e[0]>50&&this.#e[1]>50&&this.#e[2]>50)}#d(){if(!this.#h())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]-10}#a(e){return"rgb("+e.join(", ")+")"}}class a{#e;constructor(){this.#e=[]}generateMonochromaticColorScheme(e){this.#h(e);for(let t=0;t<2;t++){let s;t===0?s=this.#i(e):t===1&&(s=this.#r(e)),this.#e.push(s)}return this.#e}#t(e){e=e.split("(")[1].split(")")[0].split(",");const t=[];for(let s=0;s<e.length;s++){let i=parseInt(e[s]);t.push(i)}return t}#i(e){const t=this.#t(e),s=Math.random()*.5+.5,i=[];for(let o=0;o<t.length;o++){let n=t[o]+(255-t[o])*s;n=Math.min(255,Math.max(0,n)),i.push(Math.round(n))}return`rgb(${i[0]}, ${i[1]}, ${i[2]})`}#r(e){const t=this.#t(e),s=Math.random()*.5-.5,i=[];for(let o=0;o<t.length;o++){let n=t[o]-(0-t[o])*s;n=Math.min(255,Math.max(0,n)),i.push(Math.round(n))}return"rgb("+i.join(", ")+")"}generateAnalogousColorScheme(e){this.#h(e);for(let t=0;t<2;t++){let s;t===0?s=this.#o(e):s=this.#s(e),this.#e.push(s)}return this.#e}#o(e){const t=this.#t(e);let s=t[0],i=t[1],r=t[2];for(let o=0;o<t.length;o++)s>i&&s>r&&(i=i+20),i>s&&i>r&&(r=r+20),r>s&&r>i&&(s=s+20);return e="rgb("+s+", "+i+", "+r+")",e}#s(e){const t=this.#t(e);let s=t[0],i=t[1],r=t[2];for(let o=0;o<t.length;o++)s>i&&s>r&&(r=r+20),i>s&&i>r&&(s=s+20),r>s&&r>i&&(i=i+20);return e="rgb("+s+", "+i+", "+r+")",e}#h(e){if(typeof e!="string"||e.includes("rgb")===!1)throw new Error("The parameter must be a string in rgb format.")}}class d{#e;#t;#i;#r;#o;#s;#h;#d;#a;#l=[];#n=[];#g=[];#c;constructor(){this.#e=document.getElementById("start-screen"),this.#t=document.getElementById("username-form"),this.#i=document.getElementById("username-input"),this.#r=document.getElementById("difficulty-screen"),this.#o=document.getElementById("game-screen"),this.#s=document.getElementById("game-board"),this.#h=document.getElementById("game-submit"),this.#d=document.getElementById("end-screen"),this.#a=document.getElementById("play-again")}#f(){this.#t.addEventListener("submit",e=>{e.preventDefault(),this.#e.classList.add("hidden"),this.#r.classList.remove("hidden"),localStorage.setItem("username",this.#i.value),this.#i.value=""})}#C(){this.#r.addEventListener("click",e=>{const t=e.target.id;t==="easy"&&(this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#u(3),this.#m()),t==="medium"&&(this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#u(6),this.#m()),t==="hard"&&(this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#u(9),this.#m())})}#u(e){const t=[];for(let s=0;s<e/3;s++){const i=this.#v();for(let r=0;r<i.length;r++)t.push(i[r])}for(let s=0;s<e;s++)this.#c=document.createElement("button"),this.#c.classList.add("tile"),this.#c.classList.add("disabled"),this.#c.style.backgroundColor=t[s],this.#l.push(this.#c);for(let s=0;s<this.#l.length;s++)this.#s.appendChild(this.#l[s])}#y(){for(;this.#s.firstChild;)this.#s.removeChild(this.#s.firstChild);this.#l=[]}#p(){this.#n=Array.from(this.#l);for(let e=this.#n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[this.#n[e],this.#n[t]]=[this.#n[t],this.#n[e]]}return this.#n}#m(){setTimeout(()=>{for(this.#n=this.#p();this.#s.firstChild;)this.#s.removeChild(this.#s.firstChild);this.#n.forEach(t=>{const s=document.createElement("button");s.classList.add("tile"),s.style.backgroundColor=t.style.backgroundColor,this.#s.appendChild(s)});const e=document.querySelector("#game-screen h2");e.textContent="Tiles shuffled!",document.getElementById("user-guesses").classList.remove("hidden"),this.#L()},4e3)}#b(){const e=document.querySelector("#game-screen h2");e.textContent="Shuffling tiles...",document.getElementById("user-guesses").classList.add("hidden")}#L(){document.querySelectorAll("#game-board .tile").forEach(e=>{e.addEventListener("click",()=>{const t=document.createElement("button");t.classList.add("tile"),t.style.backgroundColor=e.style.backgroundColor,document.getElementById("guesses").appendChild(t),this.#g.push(t)})})}#E(){for(let e=0;e<this.#l.length;e++)return this.#l[e].style.backgroundColor===this.#g[e].style.backgroundColor}#S(){const e=document.querySelector("#end-screen h2"),t=localStorage.getItem("username");this.#E()?e.textContent=`Congratulations ${t}! You won!`:e.textContent=`Sorry ${t}, you lost!`}#I(){const e=document.getElementById("guesses");for(;e.firstChild;)e.removeChild(e.firstChild)}#v(){const e=[],s=new l().generateLightColor();e.push(s);const r=new a().generateAnalogousColorScheme(s);for(let o=0;o<r.length;o++)e.push(r[o]);return e}#k(){this.#h.addEventListener("click",()=>{this.#o.classList.add("hidden"),this.#d.classList.remove("hidden"),this.#S()})}#M(){this.#a.addEventListener("click",()=>{this.#y(),this.#I(),this.#b(),this.#d.classList.add("hidden"),this.#e.classList.remove("hidden")})}playGame(){this.#f(),this.#C(),this.#k(),this.#M()}}const c=new d;c.playGame();
