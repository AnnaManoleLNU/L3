(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=s(t);fetch(t.href,i)}})();class h{#e;#t=0;#s=0;constructor(){this.#e=[0,0,0]}#r(){this.#e=[Math.floor(Math.random()*(this.#s-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#s-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#s-this.#t+1))+this.#t]}generateRandomColor(){return this.#t=0,this.#s=255,this.#r(),this.#e=this.#i(this.#e),this.#e}generateLightColor(){return this.#t=155,this.#s=255,this.#r(),this.#h(),this.#e=this.#i(this.#e),this.#e}#o(){return!(this.#e[0]<200&&this.#e[1]<200&&this.#e[2]<200)}#h(){if(!this.#o())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]+10}generateDarkColor(){return this.#t=0,this.#s=100,this.#r(),this.#d(),this.#e=this.#i(this.#e),this.#e}#l(){return!(this.#e[0]>50&&this.#e[1]>50&&this.#e[2]>50)}#d(){if(!this.#l())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]-10}#i(e){return"rgb("+e.join(", ")+")"}}class a{#e;constructor(){this.#e=[]}generateMonochromaticColorScheme(e){this.#l(e);for(let s=0;s<2;s++){let r;s===0?r=this.#s(e):s===1&&(r=this.#r(e)),this.#e.push(r)}return this.#e}#t(e){e=e.split("(")[1].split(")")[0].split(",");const s=[];for(let r=0;r<e.length;r++){let t=parseInt(e[r]);s.push(t)}return s}#s(e){const s=this.#t(e),r=Math.random()*.5+.5,t=[];for(let o=0;o<s.length;o++){let n=s[o]+(255-s[o])*r;n=Math.min(255,Math.max(0,n)),t.push(Math.round(n))}return`rgb(${t[0]}, ${t[1]}, ${t[2]})`}#r(e){const s=this.#t(e),r=Math.random()*.5-.5,t=[];for(let o=0;o<s.length;o++){let n=s[o]-(0-s[o])*r;n=Math.min(255,Math.max(0,n)),t.push(Math.round(n))}return"rgb("+t.join(", ")+")"}generateAnalogousColorScheme(e){this.#l(e);for(let s=0;s<2;s++){let r;s===0?r=this.#o(e):r=this.#h(e),this.#e.push(r)}return this.#e}#o(e){const s=this.#t(e);let r=s[0],t=s[1],i=s[2];for(let o=0;o<s.length;o++)r>t&&r>i&&(t=t+20),t>r&&t>i&&(i=i+20),i>r&&i>t&&(r=r+20);return e="rgb("+r+", "+t+", "+i+")",e}#h(e){const s=this.#t(e);let r=s[0],t=s[1],i=s[2];for(let o=0;o<s.length;o++)r>t&&r>i&&(i=i+20),t>r&&t>i&&(r=r+20),i>r&&i>t&&(t=t+20);return e="rgb("+r+", "+t+", "+i+")",e}#l(e){if(typeof e!="string"||e.includes("rgb")===!1)throw new Error("The parameter must be a string in rgb format.")}}class d{#e;#t;#s;#r;#o;#h;#l;#d;#i=[];#n=[];#g=[];#a;constructor(){this.#e=document.getElementById("start-screen"),this.#t=document.getElementById("username-form"),this.#s=document.getElementById("username-input"),this.#r=document.getElementById("difficulty-screen"),this.#o=document.getElementById("game-screen"),this.#h=document.getElementById("game-submit"),this.#l=document.getElementById("end-screen"),this.#d=document.getElementById("play-again")}#f(){this.#t.addEventListener("submit",e=>{e.preventDefault(),this.#e.classList.add("hidden"),this.#r.classList.remove("hidden"),localStorage.setItem("username",this.#s.value),this.#s.value=""})}#y(){this.#r.addEventListener("click",e=>{const s=e.target.id;s==="easy"&&(this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#c(3),this.#u(),this.#E()),s==="medium"&&(this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#c(6),this.#u()),s==="hard"&&(this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#c(9),this.#u())})}#c(e){const s=[];for(let t=0;t<e/3;t++){const i=this.#I();for(let o=0;o<i.length;o++)s.push(i[o])}for(let t=0;t<e;t++)this.#a=document.createElement("button"),this.#a.classList.add("tile"),this.#a.classList.add("disabled"),this.#a.style.backgroundColor=s[t],this.#i.push(this.#a);const r=document.getElementById("game-board");for(let t=0;t<this.#i.length;t++)r.appendChild(this.#i[t])}#m(){const e=document.getElementById("game-board");for(;e.firstChild;)e.removeChild(e.firstChild);this.#i=[]}#C(){this.#n=Array.from(this.#i);for(let e=this.#n.length-1;e>0;e--){const s=Math.floor(Math.random()*(e+1));[this.#n[e],this.#n[s]]=[this.#n[s],this.#n[e]]}return this.#n}#u(){setTimeout(()=>{this.#n=this.#C(),this.#m();const e=document.getElementById("game-board");this.#n.forEach(r=>{const t=document.createElement("button");t.classList.add("tile"),t.style.backgroundColor=r.style.backgroundColor,e.appendChild(t)});const s=document.querySelector("#game-screen h2");s.textContent="Tiles shuffled!",document.getElementById("user-guesses").classList.remove("hidden"),this.#p()},4e3)}#p(){document.querySelectorAll("#game-board .tile").forEach(e=>{e.addEventListener("click",()=>{console.log("Tile clicked! Color:",e.style.backgroundColor);const s=document.createElement("button");s.classList.add("tile"),s.style.backgroundColor=e.style.backgroundColor,document.getElementById("guesses").appendChild(s)})})}#b(){for(let e=0;e<this.#i.length;e++)return this.#i[e]===this.#g[e]}#E(){const e=document.querySelector("#end-screen h2");this.#b()?e.textContent="You won!":e.textContent="You lost!"}#L(){const e=document.getElementById("guesses");for(;e.firstChild;)e.removeChild(e.firstChild)}#I(){const e=[],r=new h().generateLightColor();e.push(r);const i=new a().generateAnalogousColorScheme(r);for(let o=0;o<i.length;o++)e.push(i[o]);return e}#S(){this.#h.addEventListener("click",()=>{this.#o.classList.add("hidden"),this.#l.classList.remove("hidden"),this.#m(),this.#L()})}#k(){this.#d.addEventListener("click",()=>{this.#l.classList.add("hidden"),this.#e.classList.remove("hidden")})}playGame(){this.#f(),this.#y(),this.#S(),this.#k()}}const c=new d;c.playGame();
