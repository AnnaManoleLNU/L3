(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();class l{#e;#t=0;#r=0;constructor(){this.#e=[0,0,0]}#s(){this.#e=[Math.floor(Math.random()*(this.#r-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#r-this.#t+1))+this.#t,Math.floor(Math.random()*(this.#r-this.#t+1))+this.#t]}generateRandomColor(){return this.#t=0,this.#r=255,this.#s(),this.#e=this.#l(this.#e),this.#e}generateLightColor(){return this.#t=155,this.#r=255,this.#s(),this.#i(),this.#e=this.#l(this.#e),this.#e}#o(){return!(this.#e[0]<200&&this.#e[1]<200&&this.#e[2]<200)}#i(){if(!this.#o())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]+10}generateDarkColor(){return this.#t=0,this.#r=100,this.#s(),this.#h(),this.#e=this.#l(this.#e),this.#e}#n(){return!(this.#e[0]>50&&this.#e[1]>50&&this.#e[2]>50)}#h(){if(!this.#n())for(let e=0;e<this.#e.length;e++)this.#e[e]=this.#e[e]-10}#l(e){return"rgb("+e.join(", ")+")"}}class a{#e;constructor(){this.#e=[]}generateMonochromaticColorScheme(e){this.#n(e);for(let t=0;t<2;t++){let r;t===0?r=this.#r(e):t===1&&(r=this.#s(e)),this.#e.push(r)}return this.#e}#t(e){e=e.split("(")[1].split(")")[0].split(",");const t=[];for(let r=0;r<e.length;r++){let s=parseInt(e[r]);t.push(s)}return t}#r(e){const t=this.#t(e),r=Math.random()*.5+.5,s=[];for(let n=0;n<t.length;n++){let o=t[n]+(255-t[n])*r;o=Math.min(255,Math.max(0,o)),s.push(Math.round(o))}return`rgb(${s[0]}, ${s[1]}, ${s[2]})`}#s(e){const t=this.#t(e),r=Math.random()*.5-.5,s=[];for(let n=0;n<t.length;n++){let o=t[n]-(0-t[n])*r;o=Math.min(255,Math.max(0,o)),s.push(Math.round(o))}return"rgb("+s.join(", ")+")"}generateAnalogousColorScheme(e){this.#n(e);for(let t=0;t<2;t++){let r;t===0?r=this.#o(e):r=this.#i(e),this.#e.push(r)}return this.#e}#o(e){const t=this.#t(e);let r=t[0],s=t[1],i=t[2];for(let n=0;n<t.length;n++)r>s&&r>i&&(s=s+20),s>r&&s>i&&(i=i+20),i>r&&i>s&&(r=r+20);return e="rgb("+r+", "+s+", "+i+")",e}#i(e){const t=this.#t(e);let r=t[0],s=t[1],i=t[2];for(let n=0;n<t.length;n++)r>s&&r>i&&(i=i+20),s>r&&s>i&&(r=r+20),i>r&&i>s&&(s=s+20);return e="rgb("+r+", "+s+", "+i+")",e}#n(e){if(typeof e!="string"||e.includes("rgb")===!1)throw new Error("The parameter must be a string in rgb format.")}}class c{#e="dark";#t=!1;#r=100;constructor(){this.initiateThemeSwitcher()}initiateThemeSwitcher(){document.querySelector(".theme-switcher").addEventListener("click",()=>{this.#t||(this.#t=!0,this.#s(),setTimeout(()=>this.#t=!1,this.#r))})}#s(){this.#e==="dark"?this.#o():this.#i()}#o(){this.#e="light",document.documentElement.style.setProperty("--light","#212529"),document.documentElement.style.setProperty("--dark","whitesmoke")}#i(){this.#e="dark",document.documentElement.style.setProperty("--light","whitesmoke"),document.documentElement.style.setProperty("--dark","#212529")}getcurrentTheme(){return this.#e}}class d{#e;#t;#r;#s;#o;#i=[];#n=[];#h=[];#l;constructor(){this.#e=document.getElementById("start-screen"),this.#t=document.getElementById("difficulty-screen"),this.#r=document.getElementById("game-screen"),this.#s=document.getElementById("game-board"),this.#o=document.getElementById("end-screen"),this.#l=new c,this.#l.initiateThemeSwitcher()}initiateGame(){this.#c(),this.#d(),this.#L(),this.#T()}#c(){const e=document.getElementById("username-input");document.getElementById("username-form").addEventListener("submit",r=>{r.preventDefault(),this.#e.classList.add("hidden"),this.#t.classList.remove("hidden"),localStorage.setItem("username",e.value),e.value=""})}#d(){this.#t.addEventListener("click",e=>{const t=e.target.id;t==="easy"&&this.#a(3),t==="medium"&&this.#a(4),t==="hard"&&this.#a(5)})}#a(e){this.#t.classList.add("hidden"),this.#r.classList.remove("hidden"),this.#u(e),this.#g()}#u(e){const t=[];for(let s=0;s<e/3;s++){const i=this.#m();for(let n=0;n<i.length;n++)t.push(i[n])}for(let s=0;s<e;s++){const i=document.createElement("button");i.classList.add("tile"),i.classList.add("disabled"),i.style.backgroundColor=t[s],this.#i.push(i)}for(let s=0;s<this.#i.length;s++)this.#s.appendChild(this.#i[s])}#m(){const e=[],t=new l;let r;const s=this.#l.getcurrentTheme();s==="dark"?(r=t.generateLightColor(),e.push(r)):s==="light"&&(r=t.generateDarkColor(),e.push(r));const n=new a().generateAnalogousColorScheme(r);for(let o=0;o<n.length;o++)e.push(n[o]);return e}#g(){setTimeout(()=>{for(this.#n=this.#f();this.#s.firstChild;)this.#s.removeChild(this.#s.firstChild);this.#n.forEach(t=>{const r=document.createElement("button");r.classList.add("tile"),r.style.backgroundColor=t.style.backgroundColor,this.#s.appendChild(r)});const e=document.querySelector("#game-screen h2");e.textContent="Tiles shuffled!",document.getElementById("user-guesses").classList.remove("hidden"),this.#y(),this.#C()},4e3)}#f(){this.#n=Array.from(this.#i);for(let e=this.#n.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[this.#n[e],this.#n[t]]=[this.#n[t],this.#n[e]]}return this.#n}#y(){document.querySelectorAll("#game-board .tile").forEach(e=>{e.addEventListener("click",()=>{const t=document.createElement("button");t.classList.add("tile"),t.style.backgroundColor=e.style.backgroundColor,document.getElementById("guesses").appendChild(t),this.#h.push(t)})})}#C(){document.getElementById("guesses").addEventListener("click",e=>{const t=e.target;t.classList.contains("tile")&&this.#p(t)})}#p(e){const t=this.#h.indexOf(e);this.#h.splice(t,1),e.remove()}#b(){if(!this.#E())return!1;for(let e=0;e<this.#i.length;e++)if(!this.#S(e))return!1;return!0}#E(){return this.#i.length===this.#h.length}#S(e){return this.#i[e].style.backgroundColor===this.#h[e].style.backgroundColor}#L(){document.getElementById("game-submit").addEventListener("click",()=>{this.#r.classList.add("hidden"),this.#o.classList.remove("hidden"),this.#k()})}#k(){const e=document.querySelector("#end-screen h2"),t=localStorage.getItem("username");this.#b()?e.textContent=`Congratulations ${t}! You won!`:e.textContent=`Sorry ${t}, you lost!`}#T(){document.getElementById("play-again").addEventListener("click",()=>{this.#w(),this.#I(),this.#v(),this.#o.classList.add("hidden"),this.#e.classList.remove("hidden")})}#w(){for(;this.#s.firstChild;)this.#s.removeChild(this.#s.firstChild);this.#i=[]}#I(){const e=document.getElementById("guesses");for(;e.firstChild;)e.removeChild(e.firstChild);this.#h=[]}#v(){const e=document.querySelector("#game-screen h2");e.textContent="Shuffling tiles...",document.getElementById("user-guesses").classList.add("hidden")}}const u=new d;u.initiateGame();
